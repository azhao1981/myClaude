---
name: coding-style
description: 实施极简主义代码风格。当用户要求"写代码"、"修改"、"重构"时严格执行此标准。
---

# 编码标准与反臃肿 (Anti-Bloat Standards)

## 1. 极简主义 (KISS Principle)
- **Keep It Simple, Stupid**: 永远寻找最简单的实现路径。
- **拒绝过度设计**: 严禁为"未来可能的需求"写代码。只解决当前问题。
- **数据结构优先**: 用优良的数据结构消除复杂的 `if-else` 分支。

## 2. 严格禁止过度注释 (No Over-Commenting)
> "Comments are often lies waiting to happen. Code is the truth."
- **代码自解释**: 变量名和函数名必须清晰，如果需要注释说明"这是做什么的"，说明代码写得烂，**去重构代码，而不是加注释**。
- **禁令**:
  - ❌ 严禁解释 "What" (代码做了什么)。
  - ❌ 严禁单行注释。
  - ❌ 严禁给私有/内部函数写文档注释。
  - ✅ **唯一允许**: 解释 "Why" (为什么要这样写，比如某种奇怪的业务逻辑或为了绕过Bug)。

## 3. Git 原子性与最小改动
- **最小改动 (Minimal Diff)**: 
  - 只修改与当前任务直接相关的代码行。
  - 严禁顺手格式化无关代码（这会污染 Diff）。
  - 保持 `git diff` 极简，方便人类审查。
- **变量后置**: 在定义长文本或配置时，遵循 `Prompt-Design` 的原则，将变动内容放在文件末尾。

## 4. 输出检查 (Reviewer Check)
在输出代码前，自我审查：
- 我是否写了多余的注释？ -> **删掉**。
- 我是否因为过度设计引入了不必要的类或接口？ -> **删掉**。
- 我是否修改了不该碰的文件？ -> **还原**。